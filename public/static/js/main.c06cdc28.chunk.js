(this["webpackJsonpreact-hooks-redux-toolkit-example-crud"]=this["webpackJsonpreact-hooks-redux-toolkit-example-crud"]||[]).push([[0],{42:function(e,t,c){},44:function(e,t,c){},74:function(e,t,c){"use strict";c.r(t);var n,a,r=c(1),s=c(21),i=c.n(s),l=(c(42),c(16)),o=c(4),d=(c(43),c(44),c(5)),u=c(3),j=c(12),b=c(8),h=c(20),O=c(6),m=c(15),p=c(9),f=c(36),x=c.n(f).a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL||"/api",headers:{"Content-type":"application/json"}}),v={getAll:function(){return x.get("/events")},get:function(e){return x.get("/events/".concat(e))},create:function(e){return x.post("/events",e)},update:function(e,t){return x.put("/events/".concat(e),t)},remove:function(e){return x.delete("/events/".concat(e))},removeAll:function(){return x.delete("/events")},findBy:function(e){for(var t="",c=Object.keys(e),n=0;n<c.length;n++){var a=c[n],r=e[a];r&&(t+=0===n?"".concat(a,"=").concat(r):"&".concat(a,"=").concat(r))}return x.get("/events?".concat(t))}},g=Object(p.b)("events/create",function(){var e=Object(m.a)(Object(O.a)().mark((function e(t){var c,n,a,r,s,i,l;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.title,n=t.description,a=t.category,r=t.address,s=t.isVirtual,i=t.date,e.next=3,v.create({title:c,description:n,category:a,address:r,isVirtual:s,date:i});case 3:return l=e.sent,e.abrupt("return",l.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=Object(p.b)("events/retrieve",Object(m.a)(Object(O.a)().mark((function e(){var t;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getAll();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),N=Object(p.b)("events/update",function(){var e=Object(m.a)(Object(O.a)().mark((function e(t){var c,n,a;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.id,n=t.data,e.next=3,v.update(c,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k=Object(p.b)("events/delete",function(){var e=Object(m.a)(Object(O.a)().mark((function e(t){var c;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.id,e.next=3,v.remove(c);case 3:return e.abrupt("return",{id:c});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=Object(p.b)("events/deleteAll",Object(m.a)(Object(O.a)().mark((function e(){var t;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.removeAll();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),S=Object(p.b)("events/findBy",function(){var e=Object(m.a)(Object(O.a)().mark((function e(t){var c;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.findBy(t);case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=Object(p.c)({name:"event",initialState:[],extraReducers:(n={},Object(d.a)(n,g.fulfilled,(function(e,t){e.push(t.payload)})),Object(d.a)(n,y.fulfilled,(function(e,t){return Object(h.a)(t.payload)})),Object(d.a)(n,N.fulfilled,(function(e,t){var c=e.findIndex((function(e){return e.id===t.payload.id}));e[c]=Object(u.a)(Object(u.a)({},e[c]),t.payload)})),Object(d.a)(n,k.fulfilled,(function(e,t){var c=e.findIndex((function(e){return e.id===t.payload.id}));e.splice(c,1)})),Object(d.a)(n,C.fulfilled,(function(e,t){return[]})),Object(d.a)(n,S.fulfilled,(function(e,t){return Object(h.a)(t.payload)})),n)}).reducer,V={getAll:function(){return x.get("/categories")},get:function(e){return x.get("/categories/".concat(e))},create:function(e){return x.post("/categories",e)}},F=Object(p.b)("categories/create",function(){var e=Object(m.a)(Object(O.a)().mark((function e(t){var c,n,a;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,n=t.description,e.next=3,V.create({name:c,description:n});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E=Object(p.b)("categories/retrieve",Object(m.a)(Object(O.a)().mark((function e(){var t;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getAll();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),A=Object(p.c)({name:"category",initialState:[],extraReducers:(a={},Object(d.a)(a,F.fulfilled,(function(e,t){e.push(t.payload)})),Object(d.a)(a,E.fulfilled,(function(e,t){return Object(h.a)(t.payload)})),a)}).reducer,P=c(0),T=function(){var e={id:null,title:"",description:"",category:"",address:"",isVirtual:!1,date:"",published:!1},t=Object(r.useState)(e),c=Object(j.a)(t,2),n=c[0],a=c[1],s=Object(r.useState)(!1),i=Object(j.a)(s,2),l=i[0],o=i[1],h=Object(b.c)((function(e){return e.categories})),O=Object(b.b)(),m=Object(r.useCallback)((function(){O(E())}),[O]);Object(r.useEffect)((function(){m()}),[m]);var p=function(e){var t=e.target,c=t.name,r=t.value;"isVirtual"===c&&(r=e.target.checked),a(Object(u.a)(Object(u.a)({},n),{},Object(d.a)({},c,r)))};return Object(P.jsx)("div",{className:"submit-form",children:l?Object(P.jsxs)("div",{children:[Object(P.jsx)("h4",{children:"You submitted successfully!"}),Object(P.jsx)("button",{className:"btn btn-success",onClick:function(){a(e),o(!1)},children:"Add"})]}):Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"title",children:"Title"}),Object(P.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:n.title||"",onChange:p,name:"title"})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"category",children:"Category"}),Object(P.jsx)("select",{className:"form-control",id:"category",value:n.category,onChange:p,name:"category",required:!0,children:h&&h.map((function(e,t){return Object(P.jsx)("option",{value:e.name,children:e.name},"category -"+t)}))})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"description",children:"Description"}),Object(P.jsx)("textarea",{className:"form-control",id:"description",required:!0,value:n.description||"",onChange:p,name:"description"})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"address",children:"Address"}),Object(P.jsx)("input",{type:"text",className:"form-control",id:"address",value:n.address||"",onChange:p,name:"address"})]}),Object(P.jsx)("div",{className:"form-group",children:Object(P.jsxs)("div",{className:"form-check",children:[Object(P.jsx)("input",{className:"form-check-input",type:"checkbox",checked:n.isVirtual,id:"isVirtual",onChange:p,name:"isVirtual"}),Object(P.jsx)("label",{className:"form-check-label",htmlFor:"isVirtual",children:"Is this event virtual ?"})]})}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"date",children:"Date"}),Object(P.jsx)("input",{type:"date",className:"form-control",id:"date",required:!0,value:n.date||"",onChange:p,name:"date"})]}),Object(P.jsx)("button",{onClick:function(){var e=n.title,t=n.category,c=n.description,r=n.address,s=n.isVirtual,i=n.date;O(g({title:e,category:t,description:c,address:r,isVirtual:s,date:i})).unwrap().then((function(e){console.log(e),a({id:e.id,title:e.title,category:e.category,description:e.description,address:e.address,isVirtual:e.isVirtual,date:e.date,published:e.published}),o(!0)})).catch((function(e){console.log(e)}))},className:"btn btn-success",children:"Submit"})]})})},D=function(){var e={id:null,name:"",description:"",published:!0},t=Object(r.useState)(e),c=Object(j.a)(t,2),n=c[0],a=c[1],s=Object(r.useState)(!1),i=Object(j.a)(s,2),l=i[0],o=i[1],h=Object(b.b)(),O=function(e){var t=e.target,c=t.name,r=t.value;"published"===c&&(r=e.target.checked),a(Object(u.a)(Object(u.a)({},n),{},Object(d.a)({},c,r)))};return Object(P.jsx)("div",{className:"submit-form",children:l?Object(P.jsxs)("div",{children:[Object(P.jsx)("h4",{children:"You submitted successfully!"}),Object(P.jsx)("button",{className:"btn btn-success",onClick:function(){a(e),o(!1)},children:"Add Category"})]}):Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"name",children:"Name"}),Object(P.jsx)("input",{type:"text",className:"form-control",id:"name",required:!0,value:n.name||"",onChange:O,name:"name"})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"description",children:"Description"}),Object(P.jsx)("textarea",{className:"form-control",id:"description",required:!0,value:n.description||"",onChange:O,name:"description"})]}),Object(P.jsx)("div",{className:"form-group",children:Object(P.jsxs)("div",{className:"form-check",children:[Object(P.jsx)("input",{className:"form-check-input",type:"checkbox",checked:n.published,id:"published",onChange:O,name:"published"}),Object(P.jsx)("label",{className:"form-check-label",htmlFor:"published",children:"Published"})]})}),Object(P.jsx)("button",{onClick:function(){var e=n.name,t=n.description,c=n.published;h(F({name:e,description:t,published:c})).unwrap().then((function(e){console.log(e),a({id:e.id,name:e.name,description:e.description,published:e.published}),o(!0)})).catch((function(e){console.log(e)}))},className:"btn btn-success",children:"Submit"})]})})},_=function(e){var t=Object(r.useState)({id:null,title:"",description:"",category:"",address:"",isVirtual:!1,date:"",published:!1}),c=Object(j.a)(t,2),n=c[0],a=c[1],s=Object(r.useState)(""),i=Object(j.a)(s,2),l=i[0],o=i[1],h=Object(b.c)((function(e){return e.categories})),O=Object(b.b)(),m=Object(r.useCallback)((function(){O(E())}),[O]);Object(r.useEffect)((function(){m()}),[m]);Object(r.useEffect)((function(){var t;t=e.match.params.id,v.get(t).then((function(e){a(e.data)})).catch((function(e){console.log(e)}))}),[e.match.params.id]);var p=function(e){var t=e.target,c=t.name,r=t.value;"isVirtual"===c&&(r=e.target.checked),a(Object(u.a)(Object(u.a)({},n),{},Object(d.a)({},c,r)))},f=function(e){var t={id:n.id,title:n.title,description:n.description,category:n.category,address:n.address,isVirtual:n.isVirtual,date:n.date,published:e};O(N({id:n.id,data:t})).unwrap().then((function(t){console.log(t),a(Object(u.a)(Object(u.a)({},n),{},{published:e})),o("The status was updated successfully!")})).catch((function(e){console.log(e)}))};return Object(P.jsx)("div",{children:n?Object(P.jsxs)("div",{className:"edit-form",children:[Object(P.jsx)("h4",{children:"Event"}),Object(P.jsxs)("form",{children:[Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"title",children:"Title"}),Object(P.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:n.title,onChange:p})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"category",children:"Category"}),Object(P.jsx)("select",{className:"form-control",value:n.category,onChange:p,name:"category",id:"category",children:h&&h.map((function(e,t){return Object(P.jsx)("option",{value:e.name,children:e.name},"category -"+t)}))})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"description",children:"Description"}),Object(P.jsx)("input",{type:"text",className:"form-control",id:"description",name:"description",value:n.description,onChange:p})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"address",children:"Address"}),Object(P.jsx)("input",{type:"text",className:"form-control",id:"address",name:"address",value:n.address,onChange:p})]}),Object(P.jsx)("div",{className:"form-group",children:Object(P.jsxs)("div",{className:"form-check",children:[Object(P.jsx)("input",{className:"form-check-input",type:"checkbox",checked:n.isVirtual,id:"isVirtual",onChange:p,name:"isVirtual"}),Object(P.jsx)("label",{className:"form-check-label",htmlFor:"isVirtual",children:"Is this event virtual ?"})]})}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"date",children:"Date"}),Object(P.jsx)("input",{type:"date",className:"form-control",id:"date",required:!0,value:n.date||"",onChange:p,name:"date"})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{children:Object(P.jsx)("strong",{children:"Status:"})}),n.published?"Published":"Pending"]})]}),n.published?Object(P.jsx)("button",{className:"badge badge-primary mr-4",onClick:function(){return f(!1)},children:"UnPublish"}):Object(P.jsx)("button",{className:"badge badge-primary mr-4",onClick:function(){return f(!0)},children:"Publish"}),Object(P.jsx)("button",{className:"badge badge-danger mr-4",onClick:function(){O(k({id:n.id})).unwrap().then((function(){e.history.push("/events")})).catch((function(e){console.log(e)}))},children:"Delete"}),Object(P.jsx)("button",{type:"submit",className:"badge badge-success",onClick:function(){O(N({id:n.id,data:n})).unwrap().then((function(e){console.log(e),o("The event was updated successfully!")})).catch((function(e){console.log(e)}))},children:"Update"}),Object(P.jsx)("p",{children:l})]}):Object(P.jsxs)("div",{children:[Object(P.jsx)("br",{}),Object(P.jsx)("p",{children:"Please click on a Event..."})]})})},R=function(){var e=Object(r.useState)(null),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(-1),s=Object(j.a)(a,2),i=s[0],o=s[1],d=Object(r.useState)({title:"",category:""}),h=Object(j.a)(d,2),O=h[0],m=h[1],p=Object(b.c)((function(e){return e.events})),f=Object(b.c)((function(e){return e.categories})),x=Object(b.b)(),v=Object(r.useCallback)((function(){x(y()),x(E())}),[x]);Object(r.useEffect)((function(){v()}),[v]);var g=function(){n(null),o(-1)},N=function(e){g(),x(S(e))};return Object(P.jsxs)("div",{className:"list row",children:[Object(P.jsx)("div",{className:"col-md-8",children:Object(P.jsxs)("div",{className:"form-group mb-3",children:[Object(P.jsx)("label",{htmlFor:"category",children:"Select list:"}),Object(P.jsxs)("select",{className:"form-control",id:"category",value:O.category,onChange:function(e){var t=e.target.value,c=Object(u.a)(Object(u.a)({},O),{},{category:t});m(c),N(c)},children:[Object(P.jsx)("option",{value:"",children:"Select your interest"}),f&&f.map((function(e,t){return Object(P.jsx)("option",{value:e.name,children:e.name},"category -"+t)}))]})]})}),Object(P.jsx)("div",{className:"col-md-8",children:Object(P.jsxs)("div",{className:"input-group mb-3",children:[Object(P.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:O.title,onChange:function(e){var t=e.target.value;m(Object(u.a)(Object(u.a)({},O),{},{title:t}))}}),Object(P.jsx)("div",{className:"input-group-append",children:Object(P.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){return N(O)},children:"Search"})})]})}),Object(P.jsxs)("div",{className:"col-md-6",children:[Object(P.jsx)("h4",{children:"Events List"}),Object(P.jsx)("ul",{className:"list-group",children:p&&p.map((function(e,t){return Object(P.jsx)("li",{className:"list-group-item "+(t===i?"active":""),onClick:function(){return function(e,t){n(e),o(t)}(e,t)},children:e.title},t)}))}),Object(P.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:function(){x(C()).then((function(e){g()})).catch((function(e){console.log(e)}))},children:"Remove All"})]}),Object(P.jsx)("div",{className:"col-md-6",children:c?Object(P.jsxs)("div",{children:[Object(P.jsx)("h4",{children:"Event"}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:Object(P.jsx)("strong",{children:"Title:"})})," ",c.title]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:Object(P.jsx)("strong",{children:"Category:"})})," ",c.category]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:Object(P.jsx)("strong",{children:"Description:"})})," ",c.description]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:Object(P.jsx)("strong",{children:"Address:"})})," ",c.address]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:Object(P.jsx)("strong",{children:"Date:"})})," ",c.date]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:Object(P.jsx)("strong",{children:"Type:"})})," ",c.isVirtual?"Virtual":"Physical"]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:Object(P.jsx)("strong",{children:"Status:"})})," ",c.published?"Published":"Pending"]}),Object(P.jsx)(l.b,{to:"/events/"+c.id,className:"badge badge-warning",children:"Edit"})]}):Object(P.jsxs)("div",{children:[Object(P.jsx)("br",{}),Object(P.jsx)("p",{children:"Please click on a Event..."})]})})]})};var I=function(){return Object(P.jsxs)(l.a,{children:[Object(P.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(P.jsx)("a",{href:"/events",className:"navbar-brand",children:"Events Directory"}),Object(P.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(P.jsx)("li",{className:"nav-item",children:Object(P.jsx)(l.c,{to:"/events",className:"nav-link",activeClassName:"active",children:"Events"})}),Object(P.jsx)("li",{className:"nav-item",children:Object(P.jsx)(l.c,{to:"/add",className:"nav-link",activeClassName:"active",children:"Add"})}),Object(P.jsx)("li",{className:"nav-item",children:Object(P.jsx)(l.c,{to:"/add-category",className:"nav-link",activeClassName:"active",children:"AddCategory"})})]})]}),Object(P.jsx)("div",{className:"container mt-3",children:Object(P.jsxs)(o.c,{children:[Object(P.jsx)(o.a,{exact:!0,path:["/","/events"],component:R}),Object(P.jsx)(o.a,{exact:!0,path:"/add",component:T}),Object(P.jsx)(o.a,{exact:!0,path:"/add-category",component:D}),Object(P.jsx)(o.a,{path:"/events/:id",component:_})]})})]})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,75)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))},L={events:w,categories:A},B=Object(p.a)({reducer:L,devTools:!0});i.a.render(Object(P.jsx)(b.a,{store:B,children:Object(P.jsx)(I,{})}),document.getElementById("root")),q()}},[[74,1,2]]]);
//# sourceMappingURL=main.c06cdc28.chunk.js.map